{% extends "base.html" %}

{% block content %}
    <h1>{{ title }}</h1>
    {# The action URL should point back to the same edit_log route with the log_id #}
    <form method="POST" action="{{ url_for('main.edit_log', log_id=log_id) }}" novalidate>
        {{ form.hidden_tag() }} {# CSRF token #}

        <p>
            {{ form.exercise.label }}<br>
            {{ form.exercise() }}<br>
            {% for error in form.exercise.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.sets.label }}<br>
            {{ form.sets(size=5) }}
            {% for error in form.sets.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.reps.label }}<br>
            {{ form.reps(size=5) }}
            {% for error in form.reps.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.weight.label }}<br>
            {{ form.weight(size=10) }}
            {% for error in form.weight.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.duration_minutes.label }}<br>
            {{ form.duration_minutes(size=10) }}
            {% for error in form.duration_minutes.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.distance_km.label }}<br>
            {{ form.distance_km(size=10) }}
            {% for error in form.distance_km.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.notes.label }}<br>
            {{ form.notes(cols=35, rows=4) }}<br>
            {% for error in form.notes.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        {# If you add a date field to your form later, include it here #}
        {# <p>
            {{ form.date.label }}<br>
            {{ form.date() }}<br>
            {% for error in form.date.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p> #}
        <p>{{ form.submit(value='Update Log') }} {# Change button text #} </p>
    </form>
    <p><a href="{{ url_for('main.index') }}">Cancel</a></p>
{% endblock %}