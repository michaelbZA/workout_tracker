{% extends "base.html" %}

{% block content %}
    <h1>Welcome to Your Workout Tracker!</h1>

    <h2>Exercises</h2>
    {% if exercises %}
        <ul>
            {% for exercise in exercises %}
                <li>
                    <strong>{{ exercise.name }}</strong>
                    {% if exercise.category %}({{ exercise.category }}){% endif %}
                    {% if exercise.description %}<p><small>{{ exercise.description }}</small></p>{% endif %}
                </li>
            {% else %}
                <li>No exercises added yet. <a href="{{ url_for('main.add_exercise') }}">Add one now!</a></li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No exercises added yet. <a href="{{ url_for('main.add_exercise') }}">Add one now!</a></p>
    {% endif %}

    <hr>
    <h2>Workout Logs</h2>
    {% if workout_logs %}
        <ul>
            {% for log in workout_logs %}
                <li>
                    <strong>{{ log.exercise.name }}</strong> on {{ log.date.strftime('%Y-%m-%d %H:%M') }}
                    <p>
                        {% if log.sets is not none and log.reps is not none %}
                            Sets: {{ log.sets }}, Reps: {{ log.reps }}
                        {% endif %}
                        {% if log.weight is not none %}
                            , Weight: {{ log.weight }}
                        {% endif %}
                        {% if log.duration_minutes is not none %}
                            , Duration: {{ log.duration_minutes }} min
                        {% endif %}
                        {% if log.distance_km is not none %}
                            , Distance: {{ log.distance_km }} km
                        {% endif %}
                        {% if log.notes %}
                            <br><small>Notes: {{ log.notes }}</small>
                        {% endif %}
                    </p>
                </li>
            {% else %}
                 <li>No workouts logged yet. <a href="{{ url_for('main.log_workout') }}">Log one now!</a></li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No workouts logged yet. <a href="{{ url_for('main.log_workout') }}">Log one now!</a></p>
    {% endif %}

{% endblock %}